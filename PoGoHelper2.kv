#: import FadeTransition kivy.uix.screenmanager.FadeTransition

<BoxLayout>:
    padding: 2
    spacing: 0
    height: 0

<Button>:
    font_size: 12
    size_hint_y: 0.2
    halign: "center"
    valign: "middle"
    color: 0,1,0,1

<Label>:
    font_size: 12
    size_hint_y: 0.2
    halign: "center"
    valign: "middle"

<TextInput>:
    font_size: 14
    size_hint_y: 0.1
    color: 1,0,0,1
    multiline: False

<Image>:
    allow_stretch: True
    keep_ratio: False

<GridLayout>:
    padding: 2
    spacing: 2

ScreenManagement:
    transition: FadeTransition()
    TypeScreen:
    DPSScreen:
    QuizScreen:
    CheatScreen:


<TypeScreen>:
    name: "typematch"

    BoxLayout:
        Label:
            text: "Type\nMatch-ups"
            color: 0,0,1,1
            pos_hint: {"top": 1}
        Button:
            text: "Pokemon\nDPS"
            pos_hint: {"top": 1}
            on_release: app.root.current = "pokemondps"
        Button:
            text: "Quiz"
            pos_hint: {"top": 1}
            on_release: app.root.current = "quiz"

<DPSScreen>:
    name: "pokemondps"
    id: dps_screen

    FloatLayout:
        BoxLayout:
            Button:
                text: "Type\nMatch-ups"
                pos_hint: {"top": 1}
                on_release: app.root.current = "typematch"
            Label:
                text: "Pokemon\nDPS"
                color: 0,0,1,1
                pos_hint: {"top": 1}
            Button:
                text: "Quiz"
                pos_hint: {"top": 1}
                on_release: app.root.current = "quiz"
        Label:
            id: dps
            font_size: 24
            color: 1,1,1,1
            text: "0 DPS"
            pos_hint: {"top": 0.8}
        BoxLayout:
            Label:
                text: "Your Pokemon:"
                size_hint_y: 0.1
                pos_hint: {"top": 0.6}
            TextInput:
                id: my_pokemon
                pos_hint: {"top": 0.6}
        BoxLayout:
            Label:
                text: "Quick move:"
                size_hint_y: 0.1
                pos_hint: {"top": 0.5}
            TextInput:
                id: my_quick_move
                pos_hint: {"top": 0.5}
        BoxLayout:
            Label:
                text: "Charge move:"
                size_hint_y: 0.1
                pos_hint: {"top": 0.4}
            TextInput:
                id: my_charge_move
                pos_hint: {"top": 0.4}
        BoxLayout:
            Label:
                text: "Opponent's\nPokemon:"
                size_hint_y: 0.1
                pos_hint: {"top": 0.3}
            TextInput:
                id: my_opponent
                pos_hint: {"top": 0.3}
        BoxLayout:
            Button:
                font_size: 16
                text: "Calculate DPS"
                color: 1,0,0,1
                on_press: dps.text = root.get_dps(my_pokemon.text, my_quick_move.text, my_charge_move.text, my_opponent.text)

<QuizScreen>:
    name: "quiz"

    FloatLayout:
        BoxLayout:
            Button:
                on_release: app.root.current = "typematch"
                text: "Type\nMatch-ups"
                pos_hint: {"top": 1}
            Button:
                on_release: app.root.current = "pokemondps"
                text: "Pokemon\nDPS"
                pos_hint: {"top": 1}
            Label:
                text: "Quiz"
                color: 0,0,1,1
                pos_hint: {"top": 1}
        Label:
            id: question
            pos_hint: {"top": 0.8}
            text: "Click the \"New\nquestion\" button"
        GridLayout:
            pos_hint: {"top": 0.6}
            size_hint_y: 0.4
            cols: 4
            Button:
                on_press: normal.source = root.check_answer("normal")
            Button:
                on_press: fire.source = root.check_answer("fire")
            Button:
                on_press: water.source = root.check_answer("water")
            Button:
                on_press: grass.source = root.check_answer("grass")

            Button:
                on_press: electric.source = root.check_answer("electric")
            Button:
                on_press: ice.source = root.check_answer("ice")
            Button:
                on_press: fighting.source = root.check_answer("fighting")
            Button:
                on_press: poison.source = root.check_answer("poison")

            Button:
                on_press: ground.source = root.check_answer("ground")
            Button:
                on_press: flying.source = root.check_answer("flying")
            Button:
                on_press: psychic.source = root.check_answer("psychic")
            Button:
                on_press: bug.source = root.check_answer("bug")

            Button:
                on_press: rock.source = root.check_answer("rock")
            Button:
                on_press: ghost.source = root.check_answer("ghost")
            Button:
                on_press: dragon.source = root.check_answer("dragon")
            Button:
                on_press: dark.source = root.check_answer("dark")

            Button:
                on_press: steel.source = root.check_answer("steel")
            Button:
                on_press: fairy.source = root.check_answer("fairy")
            Button:
                on_press: none.source = root.check_answer("none")
        GridLayout:
            pos_hint: {"top": 0.6}
            size_hint_y: 0.4
            cols: 4
            Image
                id: normal
                source: "normal.png"
            Image:
                id: fire
                source: "fire.png"
            Image:
                id: water
                source: "water.png"
            Image:
                id: grass
                source: "grass.png"

            Image:
                id: electric
                source: "electric.png"
            Image:
                id: ice
                source: "ice.png"
            Image:
                id: fighting
                source: "fighting.png"
            Image:
                id: poison
                source: "poison.png"

            Image:
                id: ground
                source: "ground.png"
            Image:
                id: flying
                source: "flying.png"
            Image:
                id: psychic
                source: "psychic.png"
            Image:
                id: bug
                source: "bug.png"

            Image:
                id: rock
                source: "rock.png"
            Image:
                id: ghost
                source: "ghost.png"
            Image:
                id: dragon
                source: "dragon.png"
            Image:
                id: dark
                source: "dark.png"

            Image:
                id: steel
                source: "steel.png"
            Image:
                id: fairy
                source: "fairy.png"
            Image:
                id: none
                source: "none.png"
            Button:
                text: "reset"
                color: 0,0,0,1
                on_press: normal.source = "normal.png"
                on_press: fire.source = "fire.png"
                on_press: water.source = "water.png"
                on_press: grass.source = "grass.png"
                on_press: electric.source = "electric.png"
                on_press: ice.source = "ice.png"
                on_press: fighting.source = "fighting.png"
                on_press: poison.source = "poison.png"
                on_press: ground.source = "ground.png"
                on_press: flying.source = "flying.png"
                on_press: psychic.source = "psychic.png"
                on_press: bug.source = "bug.png"
                on_press: rock.source = "rock.png"
                on_press: ghost.source = "ghost.png"
                on_press: dragon.source = "dragon.png"
                on_press: dark.source = "dark.png"
                on_press: steel.source = "steel.png"
                on_press: fairy.source = "fairy.png"
                on_press: none.source = "none.png"
        BoxLayout:
            Button:
                font_size: 16
                color: 1,0,0,1
                text: "Check\nanswers"
                on_release: app.root.current = "cheat"
            Button:
                font_size: 16
                color: 1,1,0,1
                text: "New\nquestion"
                on_press: question.text = root.ask_question()
                on_press: normal.source = "normal.png"
                on_press: fire.source = "fire.png"
                on_press: water.source = "water.png"
                on_press: grass.source = "grass.png"
                on_press: electric.source = "electric.png"
                on_press: ice.source = "ice.png"
                on_press: fighting.source = "fighting.png"
                on_press: poison.source = "poison.png"
                on_press: ground.source = "ground.png"
                on_press: flying.source = "flying.png"
                on_press: psychic.source = "psychic.png"
                on_press: bug.source = "bug.png"
                on_press: rock.source = "rock.png"
                on_press: ghost.source = "ghost.png"
                on_press: dragon.source = "dragon.png"
                on_press: dark.source = "dark.png"
                on_press: steel.source = "steel.png"
                on_press: fairy.source = "fairy.png"
                on_press: none.source = "none.png"

<CheatScreen>:
    name: "cheat"
    Button:
        size_hint_x: 1
        size_hint_y: 1
        on_release: app.root.current = "quiz"
    Image:
        source: "cheatsheet.png"
